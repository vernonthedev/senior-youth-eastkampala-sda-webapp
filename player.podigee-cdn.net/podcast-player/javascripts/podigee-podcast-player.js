!function t(e,n,i){function r(s,a){if(!n[s]){if(!e[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(o)return o(s,!0);throw new Error("Cannot find module '"+s+"'")}var u=n[s]={exports:{}};e[s][0].call(u.exports,(function(t){var n=e[s][1][t];return r(n||t)}),u,u.exports,t,e,n,i)}return n[s].exports}for(var o="function"==typeof require&&require,s=0;s<i.length;s++)r(i[s]);return r}({1:[function(t,e,n){"use strict";var i=setTimeout;function r(t){return Boolean(t&&void 0!==t.length)}function o(){}function s(t){if(!(this instanceof s))throw new TypeError("Promises must be constructed via new");if("function"!=typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function a(t,e){for(;3===t._state;)t=t._value;0!==t._state?(t._handled=!0,s._immediateFn((function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(t){return void u(e.promise,t)}c(e.promise,i)}else(1===t._state?c:u)(e.promise,t._value)}))):t._deferreds.push(e)}function c(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"==typeof e||"function"==typeof e)){var n=e.then;if(e instanceof s)return t._state=3,t._value=e,void f(t);if("function"==typeof n)return void l((i=n,r=e,function(){i.apply(r,arguments)}),t)}t._state=1,t._value=e,f(t)}catch(e){u(t,e)}var i,r}function u(t,e){t._state=2,t._value=e,f(t)}function f(t){2===t._state&&0===t._deferreds.length&&s._immediateFn((function(){t._handled||s._unhandledRejectionFn(t._value)}));for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function d(t,e,n){this.onFulfilled="function"==typeof t?t:null,this.onRejected="function"==typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t((function(t){n||(n=!0,c(e,t))}),(function(t){n||(n=!0,u(e,t))}))}catch(t){if(n)return;n=!0,u(e,t)}}s.prototype.catch=function(t){return this.then(null,t)},s.prototype.then=function(t,e){var n=new this.constructor(o);return a(this,new d(t,e,n)),n},s.prototype.finally=function(t){var e=this.constructor;return this.then((function(n){return e.resolve(t()).then((function(){return n}))}),(function(n){return e.resolve(t()).then((function(){return e.reject(n)}))}))},s.all=function(t){return new s((function(e,n){if(!r(t))return n(new TypeError("Promise.all accepts an array"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var o=i.length;function s(t,r){try{if(r&&("object"==typeof r||"function"==typeof r)){var a=r.then;if("function"==typeof a)return void a.call(r,(function(e){s(t,e)}),n)}i[t]=r,0==--o&&e(i)}catch(t){n(t)}}for(var a=0;a<i.length;a++)s(a,i[a])}))},s.allSettled=function(t){return new this((function(e,n){if(!t||void 0===t.length)return n(new TypeError(typeof t+" "+t+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var r=i.length;function o(t,n){if(n&&("object"==typeof n||"function"==typeof n)){var s=n.then;if("function"==typeof s)return void s.call(n,(function(e){o(t,e)}),(function(n){i[t]={status:"rejected",reason:n},0==--r&&e(i)}))}i[t]={status:"fulfilled",value:n},0==--r&&e(i)}for(var s=0;s<i.length;s++)o(s,i[s])}))},s.resolve=function(t){return t&&"object"==typeof t&&t.constructor===s?t:new s((function(e){e(t)}))},s.reject=function(t){return new s((function(e,n){n(t)}))},s.race=function(t){return new s((function(e,n){if(!r(t))return n(new TypeError("Promise.race accepts an array"));for(var i=0,o=t.length;i<o;i++)s.resolve(t[i]).then(e,n)}))},s._immediateFn="function"==typeof setImmediate&&function(t){setImmediate(t)}||function(t){i(t,0)},s._unhandledRejectionFn=function(t){"undefined"!=typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)},e.exports=s},{}],2:[function(t,e,n){var i,r;r=t("promise-polyfill"),i=function(){function t(t){this.configuration=t,this.audion_id="605882ce589ef026631433b1",this.sprng_adswizz="622f7d8e4aedb205de3687f2"}return t.prototype.checkForConsent=function(){return new r((t=this,function(e,n){return window.__tcfapi?window.__tcfapi("addEventListener",2,(function(n,i){try{"tcloaded"!==n.eventStatus&&"useractioncomplete"!==n.eventStatus||window.__tcfapi("getCustomVendorConsents",2,(function(n){n.grants&&n.grants[t.audion_id]&&n.grants[t.audion_id].vendorGrant?(console.debug("audion consent given"),t.configuration.consent={audion:!0},e()):n.grants&&n.grants[t.sprng_adswizz]&&n.grants[t.sprng_adswizz].vendorGrant?(console.debug("adswizz consent given"),t.configuration.consent={sprng:!0},e()):(console.debug("consent denied"),t.configuration.consent={audion:!1,sprng:!1},e())}))}catch(t){return e()}finally{e()}})):(console.debug("no tcf api"),e())}));var t},t.prototype.processConsent=function(t){return this.processConsent(t)},t.prototype.processConsent=function(t){var e,n,i,r,o,s,a;if(!this.configuration.consent)return t;if(!1===this.configuration.consent.audion&&t.media.mp3.indexOf("zippycast")>-1)for(n=0,r=(s=Object.keys(t.media)).length;n<r;n++)e=s[n],t.media[e]=t.media[e].replace("adn","main"),t.media[e]=t.media[e].replace(/zippycast\/.*\/media/,"media");else if(!1===this.configuration.consent.sprng&&t.media.mp3.indexOf("adswizz")>-1)for(i=0,o=(a=Object.keys(t.media)).length;i<o;i++)e=a[i],t.media[e]=t.media[e].replace("adn","main"),t.media[e]=t.media[e].replace(/adswizz\/media/,"media");return t},t}(),e.exports=i},{"promise-polyfill":1}],3:[function(t,e,n){var i,r,o,s,a,c,u;a=t("./iframe_resizer.coffee"),c=t("./subscribe_button_trigger.coffee"),i=t("./cmp_consent.coffee"),s=function(){function t(t){var e;this.elem=t,e=this.elem.getAttribute("data-configuration").replace(/(^\s+|\s+$)/g,""),this.id=this.randomId(e),this.configuration="string"==typeof e?e.match(/^{/)?JSON.parse(e):this.getInSiteConfig(e)||{json_config:e}:e,this.configuration.parentLocationHash=window.location.hash,this.configuration.embedCode=this.elem.outerHTML;try{this.configuration.customOptions=JSON.parse(this.elem.getAttribute("data-options"))}catch(t){console.debug("[Podigee Podcast Player] data-options has invalid JSON")}this.url=this.origin()+"/podigee-podcast-player.html?v=2e825&id="+this.id+"&iframeMode=script",this.buildIframe(),this.setupListeners(),this.replaceElem(),this.configuration&&this.injectConfiguration(),this.setupSubscribeButton()}return t.prototype.getInSiteConfig=function(t){var e,n;return 0!==t.indexOf("http")&&t.match(/\./)&&!t.match(/^\//)?(e=t.split("."),n=null,e.forEach((function(t){return n=null===n?window[t]:n[t]})),n):window[t]},t.prototype.randomId=function(t){var e,n,i,r,o;if(e=0,0===t.length)return e;for(n=function(t){if(!isNaN(t))return e=(e<<5)-e+t,e&=e},i=r=0,o=t.length;0<=o?r<=o:r>=o;i=0<=o?++r:--r)n(t.charCodeAt(i));return"pdg-"+e.toString(16).substring(1)},t.prototype.origin=function(){var t;return(this.elem.src||this.elem.getAttribute("src")||(null!=(t=document.currentScript)?t.src:void 0)||u).match(/(^.*\/)/)[0].replace(/javascripts\/$/,"").replace(/\/$/,"")},t.prototype.buildIframe=function(){return this.iframe=document.createElement("iframe"),this.iframe.id=this.id,this.iframe.scrolling="no",this.iframe.src=this.url,this.iframe.style.border="0",this.iframe.style.overflowY="hidden",this.iframe.style.transition="height 100ms linear",this.iframe.style.minWidth="100%",this.iframe.width="1px",this.iframe.title="Podcast",this.iframe.setAttribute("aria-label","Podcast"),this.iframe.setAttribute("allow","autoplay"),this.iframe},t.prototype.setupListeners=function(){return a.listen("resizePlayer",this.iframe)},t.prototype.setupSubscribeButton=function(){return window.addEventListener("message",(t=this,function(e){var n;try{n=JSON.parse(e.data||e.originalEvent.data)}catch(t){return}if(n.id===t.iframe.id&&"loadSubscribeButton"===n.listenTo)return new c(t.iframe).listen()}),!1);var t},t.prototype.replaceElem=function(){return this.iframe.className+=this.elem.className,this.elem.parentNode.replaceChild(this.iframe,this.elem)},t.prototype.injectConfiguration=function(){return window.addEventListener("message",(t=this,function(e){var n;try{n=JSON.parse(e.data||e.originalEvent.data)}catch(t){return}if(n.id===t.iframe.id&&"sendConfig"===n.listenTo)return new i(t.configuration).checkForConsent().then((function(){var e,n;return e=t.configuration.constructor===String?t.configuration:JSON.stringify(t.configuration),null!=(n=t.iframe.contentWindow)?n.postMessage(e,"*"):void 0}))}),!1);var t},t}(),r=function(){var t;document.currentScript.getAttribute("data-continuous-loading")&&(t=new MutationObserver((function(t){return t.forEach((function(t){return new o}))})),document.addEventListener("DOMContentLoaded",(function(){return t.observe(document.body,{childList:!0,subtree:!0,characterData:!1,attributes:!1})}),!1))},new(o=function(){var t,e,n,i,r;if(r=[],0!==(e=document.querySelectorAll('script.podigee-podcast-player:not([data-loaded="true"]), div.podigee-podcast-player:not([data-loaded="true"])')).length){for(n=0,i=e.length;n<i;n++)(t=e[n]).setAttribute("data-loaded","true"),r.push(new s(t));window.podigeePodcastPlayers=r}}),new r,u=document.currentScript.src},{"./cmp_consent.coffee":2,"./iframe_resizer.coffee":4,"./subscribe_button_trigger.coffee":6}],4:[function(t,e,n){var i;i=function(){function t(){}return t.listen=function(t,e,n,i){return null==n&&(n={}),window.addEventListener("message",(function(r){var o,s,a;try{s=JSON.parse(r.data||r.originalEvent.data)}catch(t){return}if(s.id===e.id&&s.listenTo===t)return o=s.height+(n.height||0),a=/%$/.test(s.width)?s.width:s.width+(n.width||0),e.style.height=o+"px",e.style.maxHeight=o+"px",e.style.width=a+"px",e.style.maxWidth=a+"px",null!=i?i(e):void 0}),!1)},t}(),e.exports=i},{}],5:[function(t,e,n){!function(){var t;if(!("function"==typeof window.CustomEvent||this.CustomEvent.toString().indexOf("CustomEventConstructor")>-1))(t=function(t,e){var n;return e=e||{bubbles:!1,cancelable:!1,detail:void 0},(n=document.createEvent("CustomEvent")).initCustomEvent(t,e.bubbles,e.cancelable,e.detail),n}).prototype=window.Event.prototype,window.CustomEvent=t}()},{}],6:[function(t,e,n){var i;t("./polyfills/custom_event.coffee"),i=function(){function t(t){this.referenceElement=t,this.referenceId=this.referenceElement.id,this.id=this.randomId(this.referenceElement.toString()),this.buildTags(),this.insert()}return t.prototype.buildTags=function(){return this.scriptTag=document.createElement("script"),this.scriptTag.className="podlove-subscribe-button",this.scriptTag.src="https://player.podigee-cdn.net/subscribe-button/javascripts/app.js",this.scriptTag.dataset.language="en",this.scriptTag.dataset.size="medium",this.scriptTag.setAttribute("data-hide",!0),this.scriptTag.setAttribute("data-buttonid",this.id),this.button=document.createElement("button"),this.button.style.display="none",this.button.className="podlove-subscribe-button-"+this.id},t.prototype.insert=function(){return this.referenceElement.parentNode.insertBefore(this.scriptTag,this.referenceElement.nextSibling),this.referenceElement.parentNode.insertBefore(this.button,this.referenceElement.nextSibling)},t.prototype.randomId=function(t){var e,n,i,r,o,s;if(o=Math.floor(65536*(1+Math.random())).toString(16).substring(1),e=0,0===(t+=o).length)return e;for(n=function(t){if(!isNaN(t))return e=(e<<5)-e+t,e&=e},i=r=0,s=t.length;0<=s?r<=s:r>=s;i=0<=s?++r:--r)n(t.charCodeAt(i));return e.toString(16).substring(1)},t.prototype.listen=function(){return window.addEventListener("message",(t=this,function(e){var n,i;try{n=JSON.parse(e.data||e.originalEvent.data)}catch(t){return}if("subscribeButtonTrigger"===n.listenTo&&n.id===t.referenceId)return(i=n.detail).id=t.id,e=new CustomEvent("openSubscribeButtonPopup",{detail:i}),document.body.dispatchEvent(e)}),!1);var t},t}(),e.exports=i},{"./polyfills/custom_event.coffee":5}]},{},[3]);